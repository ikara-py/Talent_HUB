<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Manage Companies - TalentHub Admin</title>
		<link rel="stylesheet" href="{{ base_url }}/css/style.css">
	</head>
	<body>
		<nav class="navbar">
			<div class="container">
				<a href="{{ url('admin/dashboard') }}" class="logo">TalentHub Admin</a>
				<div class="nav-links">
					<a href="{{ url('admin/users') }}">Users</a>
					<a href="{{ url('admin/companies') }}">Companies</a>
					<a href="{{ url('admin/categories') }}">Categories</a>
					<a href="{{ url('admin/tags') }}">Tags</a>
					<a href="{{ url('admin/offers') }}">Offers</a>
					<a href="{{ url('auth/logout') }}" class="btn btn-secondary">Logout</a>
				</div>
			</div>
		</nav>

		<main class="container" style="margin-top: 2rem;">
			<div class="admin-header">
				<h1>Manage Companies</h1>
				<a href="{{ url('admin/createCompany') }}" class="btn btn-primary">+ Add Company</a>
			</div>

			<div class="table-container">
				<table class="data-table">
					<thead>
						<tr>
							<th>ID</th>
							<th>Company Name</th>
							<th>Website</th>
							<th>Description</th>
							<th>Recruiter</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% if companies is empty %}
							<tr>
								<td colspan="6" style="text-align: center;">No companies found.</td>
							</tr>
						{% else %}
							{% for company in companies %}
								<tr>
									<td>{{ company.getUserId() }}</td>
									<td>{{ company.getCompanyName() }}</td>
									<td>
										{% if company.getWebsiteUrl() %}
											<a href="{{ company.getWebsiteUrl() }}" target="_blank">{{ company.getWebsiteUrl() }}</a>
										{% else %}
											-
										{% endif %}
									</td>
									<td>{{ company.getCompanyDescription()|slice(0, 50) ~ '...' }}</td>
									<td>
										{% if company.getFullName() %}
											{{ company.getFullName() }}
										{% else %}
											N/A
										{% endif %}
									</td>
									<td class="actions">
										<a href="{{ url('admin/editCompany/' ~ company.getUserId()) }}" class="btn btn-small btn-secondary">Edit</a>
										<a href="{{ url('admin/deleteCompany/' ~ company.getUserId()) }}" class="btn btn-small btn-danger" onclick="return confirm('Are you sure you want to delete this company?')">Delete</a>
									</td>
								</tr>
							{% endfor %}
						{% endif %}
					</tbody>
				</table>
			</div>
		</main>
	</body>
</html>
