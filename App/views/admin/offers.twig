<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Manage Offers - TalentHub Admin</title>
		<link rel="stylesheet" href="{{ base_url }}/css/style.css">
	</head>
	<body>
		<nav class="navbar">
			<div class="container">
				<a href="{{ url('admin/dashboard') }}" class="logo">TalentHub Admin</a>
				<div class="nav-links">
					<a href="{{ url('admin/users') }}">Users</a>
					<a href="{{ url('admin/companies') }}">Companies</a>
					<a href="{{ url('admin/categories') }}">Categories</a>
					<a href="{{ url('admin/tags') }}">Tags</a>
					<a href="{{ url('admin/offers') }}">Offers</a>
					<a href="{{ url('auth/logout') }}" class="btn btn-secondary">Logout</a>
				</div>
			</div>
		</nav>

		<main class="container mx-auto px-4 py-8">
			<div class="admin-header mb-6">
				<h1 class="text-3xl font-bold">Manage Job Offers</h1>
			</div>

			<div class="table-container">
				<table class="data-table">
					<thead>
						<tr>
							<th>ID</th>
							<th>Title</th>
							<th>Company</th>
							<th>Category</th>
							<th>Location</th>
							<th>Salary</th>
							<th>Created</th>
							<th>Status</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% if offers is empty %}
							<tr>
								<td colspan="9" class="text-center text-gray-600">No offers found.</td>
							</tr>
						{% else %}
							{% for offer in offers %}
								<tr>
									<td>{{ offer.getId() }}</td>
									<td>
										<strong>{{ offer.getTitle() }}</strong>
									</td>
									<td>{{ offer.getCompanyName() }}</td>
									<td>
										<span class="badge">{{ offer.getCategory().getName() }}</span>
									</td>
									<td>{{ offer.getLocation() ?: 'N/A' }}</td>
									<td>{{ offer.getSalary() ? '$' ~ offer.getSalary()|number_format(0) : 'N/A' }}</td>
									<td>{{ offer.getCreatedAt()|date('Y-m-d') }}</td>
									<td>
										{% if offer.isDeleted() %}
											<span class="badge badge-danger">Deleted</span>
										{% else %}
											<span class="badge badge-success">Active</span>
										{% endif %}
									</td>
									<td class="actions">
										{% if not offer.isDeleted() %}
											<a href="{{ url('admin/deleteOffer/' ~ offer.getId()) }}" class="text-red-600 hover:text-red-900" onclick="return confirm('Are you sure you want to delete this offer?')">Delete</a>
										{% else %}
											<span class="text-muted">Deleted</span>
										{% endif %}
									</td>
								</tr>
							{% endfor %}
						{% endif %}
					</tbody>
				</table>
			</div>
		</main>
	</body>
</html>
