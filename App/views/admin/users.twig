<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Manage Users - TalentHub Admin</title>
		<link rel="stylesheet" href="{{ base_url }}/css/style.css">
	</head>
	<body>
		<nav class="navbar">
			<div class="container">
				<a href="{{ url('admin/dashboard') }}" class="logo">TalentHub Admin</a>
				<div class="nav-links">
					<a href="{{ url('admin/users') }}">Users</a>
					<a href="{{ url('admin/companies') }}">Companies</a>
					<a href="{{ url('admin/categories') }}">Categories</a>
					<a href="{{ url('admin/tags') }}">Tags</a>
					<a href="{{ url('admin/offers') }}">Offers</a>
					<a href="{{ url('auth/logout') }}" class="btn btn-secondary">Logout</a>
				</div>
			</div>
		</nav>

		<main class="container" style="margin-top: 2rem;">
			<div class="admin-header">
				<h1>Manage Users</h1>
				<a href="{{ url('admin/createUser') }}" class="btn btn-primary">+ Add User</a>
			</div>

			<div class="table-container">
				<table class="data-table">
					<thead>
						<tr>
							<th>ID</th>
							<th>Name</th>
							<th>Username</th>
							<th>Email</th>
							<th>Role</th>
							<th>Actions</th>
						</tr>
					</thead>
					<tbody>
						{% if users is empty %}
							<tr>
								<td colspan="6" style="text-align: center;">No users found.</td>
							</tr>
						{% else %}
							{% for user in users %}
								<tr>
									<td>{{ user.getId() }}</td>
									<td>{{ user.getFirstName() }}
										{{ user.getLastName() }}</td>
									<td>{{ user.getUsername() }}</td>
									<td>{{ user.getEmail() }}</td>
									<td>
										<span class="badge">{{ user.getRole().getName() }}</span>
									</td>
									<td class="actions">
										<a href="{{ url('admin/editUser/' ~ user.getId()) }}" class="btn btn-small btn-secondary">Edit</a>
										<a href="{{ url('admin/deleteUser/' ~ user.getId()) }}" class="btn btn-small btn-danger" onclick="return confirm('Are you sure you want to delete this user?')">Delete</a>
									</td>
								</tr>
							{% endfor %}
						{% endif %}
					</tbody>
				</table>
			</div>
		</main>
	</body>
</html>
